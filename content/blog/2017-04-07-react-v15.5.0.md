---
title: "React v15.5.0"
author: [acdlite]
---  

Ça fait exactement un an depuis le dernier gros changementde version de React. Notre prochaine version majeure, React 16, comprendra des améliorations passionnantes, dont une [réécriture complète] (https://www.youtube.com/watch?v=ZCuYPiUIONs) des composants internes de React. [Nous prenons la stabilité au sérieux](/docs/design-principles.html#stability), et nous nous engageons à apporter ces améliorations à tous nos utilisateurs sans avoir à faire trop d'effort.

C'est pourquoi nous publions aujourd'hui React 15.5.0.

### Nouveaux avertissements d'amortissement {#new-deprecation-warnings}

Le changement le plus important est que nous avons extrait `React.PropTypes` et `React.createClass` dans leurs propres paquets. Les deux sont toujours accessibles via l'objet principal `React`, mais l'utilisation de l'un ou l'autre enregistrera un avertissement d'obsolescence dans la console en mode développement. Cela permettra d'optimiser la taille du code à l'avenir.

Ces avertissements n'affecteront pas le comportement de votre application. Cependant, nous sommes conscients qu'ils peuvent causer des frustrations, en particulier si vous utilisez un framework de test qui traite `console.error` comme un échec.

**Ajouter de nouveaux avertissements n'est pas quelque chose que nous faisons à la légère.** Les avertissements dans React ne sont pas de simples suggestions - ils font partie intégrante de notre stratégie visant à garder le plus de personnes possible sur la dernière version de React. Nous n'ajoutons jamais d'avertissements sans fournir un cheminement incrémentiel vers l'avant.

Ainsi, bien que les avertissements puissent causer de la frustration à court terme, nous croyons que le fait **d'inciter les développeurs à migrer leurs bases de code maintenant empêche une plus grande frustration par la suite**. La correction proactive des avertissements vous assure d'être prêt pour la prochaine version majeure. Si votre application ne produit aucun avertissement en 15.5, elle devrait continuer à fonctionner en 16 sans aucun changement.

Pour chacune de ces nouvelles dépréciations, nous avons fourni un codemod pour migrer automatiquement votre code. Ils sont disponibles au sein du projet [react-codemod] (https://github.com/reactjs/react-codemod).

### Migrer depuis React.PropTypes {#migrating-from-reactproptypes}

La fonctionnalité Prop-Type est utilisée durant la phase de développement, permettant la validation d'exécution des props de nos composants. Nous avons extrait les prop-types pour les intégrer dans un paquet séparé afin de refléter le fait que tout le monde ne les utilise pas forcemment.

En 15.5, au lieu d'accéder à `PropTypes` depuis l'objet principal `React`, installez le paquet `prop-types` et importez-les de là :

```js{11,16,25}
// Avant (15.4 et en dessous)
import React from 'react';

class Component extends React.Component {
  render() {
    return <div>{this.props.text}</div>;
  }
}

Component.propTypes = {
  text: React.PropTypes.string.isRequired,
}

// Après (15.5)
import React from 'react';
import PropTypes from 'prop-types';

class Component extends React.Component {
  render() {
    return <div>{this.props.text}</div>;
  }
}

Component.propTypes = {
  text: PropTypes.string.isRequired,
};
```
Le [codemod](https://github.com/reactjs/react-codemod#react-proptypes-to-prop-types) pour cette modification effectue cette conversion automatiquement. Utilisation de base :

```bash
jscodeshift -t react-codemod/transforms/React-PropTypes-to-prop-types.js <path>
```


Les APIs `propTypes`, `contextTypes`, et `childContextTypes` fonctionneront exactement comme avant. Le seul changement est que les validateurs intégrés sont maintenant dans un package séparé.

Vous pouvez également utiliser [Flow](https://flow.org/) pour vérifier statiquement votre code JavaScript, y compris [React components](https://flow.org/en/docs/react/components/).

### Migrer depuis React.createClass {#migrating-from-reactcreateclass}

Quand React a été initialement publié, il n'y avait pas de moyen idiomatique de créer des classes en JavaScript, nous avons donc fourni les notres avec : `React.createClass`.

Plus tard, des classes ont été ajoutées au langage dans le cadre de ES2015, nous avons donc ajouté la possibilité de créer des composants React en utilisant des classes JavaScript. **En plus des composants fonctionnels, les classes JavaScript sont maintenant le [moyen préféré pour créer des composants en React](/docs/components-and-props.html#functional-and-class-components).**

Pour vos composants `createClass` existants, nous vous recommandons de les migrer vers des classes JavaScript. Cependant, si vous avez des composants qui reposent sur des mélanges, la conversion en classes peut ne pas être immédiatement réalisable. Si c'est le cas, `create-react-class` est disponible sur npm en remplacement de 'drop-in' :

```js{4,13,15}
// Avant (15.4 and below)
var React = require('react');

var Component = React.createClass({
  mixins: [MixinA],
  render() {
    return <Child />;
  }
});

// Après (15.5)
var React = require('react');
var createReactClass = require('create-react-class');

var Component = createReactClass({
  mixins: [MixinA],
  render() {
    return <Child />;
  }
});
```

Vos composants continueront à fonctionner de la même manière qu'auparavant.

Le [codemod](https://github.com/reactjs/react-codemod#explanation-of-the-new-es2015-class-transform-with-property-initializers) pour ce changement tente de convertir un composant `createClass` en une classe JavaScript, avec un repli vers `create-react-class` si nécessaire. Il a converti des milliers de composants en interne sur Facebook.

Utilisation de base :

```bash
jscodeshift -t react-codemod/transforms/class.js path/to/components
```

#### Arrêt de la prise en charge des Addons React{#discontinuing-support-for-react-addons}

Nous interrompons la maintenance active des paquets React Addons. En vérité, la plupart de ces paquets n'ont pas été activement maintenus depuis longtemps. Ils continueront à travailler indéfiniment, mais nous vous recommandons de migrer le plus tôt possible afin d'éviter de futures cassures.

- **react-addons-create-fragment** - React 16 aura un support de première classe pour les fragments, à ce stade, ce paquet ne sera pas nécessaire. Nous recommandons d'utiliser des tableaux d'éléments avec des clés à la place.
- **react-addons-css-transition-group** - Utilisez plutôt [react-transition-group/CSSTransitionGroup](https://github.com/reactjs/react-transition-group). La version 1.1.1.1 offre un remplacement libre.
- **react-addons-linked-state-mixin** - Définissez explicitement les gestionnaires `value` et `onChange` à la place.
- **react-addons-pure-render-mixin** - Utilisez plutôt [`React.PureComponent`](/docs/react-api.html#reactpurecomponent).
- **react-addons-shallow-compare** - Utilisez plutôt [`React.PureComponent`](/docs/react-api.html#reactpurecomponent).
- **react-addons-transition-group** - Utilisez plutôt [react-transition-group/TransitionGroup].(https://github.com/reactjs/react-transition-group). La version 1.1.1 offre un remplacement libre.
- **react-addons-update** - Utilisez plutôt [immutability-helper](https://github.com/kolodny/immutability-helper) avec un remplacement libre.
- **react-linked-input** - Définissez explicitement les gestionnaires `value` et `onChange` à la place.

Nous cessons également de prendre en charge la version UMD de `react-with-addons`. Il sera retiré à React 16.

#### Les Test Utils de React {#react-test-utils}

Actuellement, les Utils de React Test vivent dans `react-addons-test-utils`. Depuis la version 15.5, nous déprécions ce paquet et le déplacions vers `react-dom/test-utils` à la place :

```js
// Avant (15.4 and below)
import TestUtils from 'react-addons-test-utils';

// Après (15.5)
import TestUtils from 'react-dom/test-utils';
```

Cela reflète le fait que ce que nous appelons les outils de test sont en réalité un ensemble d'APIs qui enrobent le moteur de rendu du DOM.

L'exception est le rendu superficiel, qui n'est pas spécifique au DOM. Le rendu superficiel a été déplacé vers `react-test-renderer/shallow`.

```js{2,5}
// Avant (15.4 and below)
import { createRenderer } from 'react-addons-test-utils';

// Après (15.5)
import { createRenderer } from 'react-test-renderer/shallow';
```

---

## Remerciements {#acknowledgements}

Un remerciement spécial à ces quelques personnes pour le transfert de propriété des noms de paquets npm :

- [Jason Miller](https://github.com/developit)
- [Aaron Ackerman](https://github.com/aackerman)
- [Vinicius Marson](https://github.com/viniciusmarson)

---

## Installation {#installation}

Nous recommandons d'utiliser [Yarn](https://yarnpkg.com/) ou [npm](https://www.npmjs.com/) pour gérer les dépendances frontales. Si vous êtes nouveau dans les gestionnaires de paquets, la [documentation de Yarn](https://yarnpkg.com/en/docs/getting-started) est un bon endroit pour commencer.

Pour installer React avec Yarn, exécutez :

```bash
yarn add react@^15.5.0 react-dom@^15.5.0
```

Pour installer React avec npm, exécutez :

```bash
npm install --save react@^15.5.0 react-dom@^15.5.0
```

Nous vous recommandons d'utiliser un bundler comme [webpack](https://webpack.js.org/) ou [Browserify](http://browserify.org/) afin de pouvoir écrire du code modulaire et le regrouper en petits paquets pour optimiser le temps de chargement.

Rappelez-vous que par défaut, React exécute des contrôles supplémentaires et fournit des avertissements utiles en mode développement. Lorsque vous déployez votre application, assurez-vous de la [compiler en mode production] (/docs/installation.html#versions-development-and-production).

Dans le cas où vous n'utilisez pas de bundler, nous fournissons également des bundles pré-construits dans les paquets npm que vous pouvez [inclure comme balises de script](/docs/installation.html#using-a-cdn) sur votre page :

* **React**  
  Développer en build avec des avertissements : [react/dist/react.js](https://unpkg.com/react@15.5.0/dist/react.js)  
  Construction miniature pour la production : [react/dist/react.min.js](https://unpkg.com/react@15.5.0/dist/react.min.js)  
* **React with Add-Ons**  
  Développer en build avec des avertissements : [react/dist/react-with-addons.js](https://unpkg.com/react@15.5.0/dist/react-with-addons.js)  
  Construction miniature pour la production : [react/dist/react-with-addons.min.js](https://unpkg.com/react@15.5.0/dist/react-with-addons.min.js)  
* **React DOM** (inclure React dans la page avant React DOM)  
   Développer en build avec des avertissements : [react-dom/dist/react-dom.js](https://unpkg.com/react-dom@15.5.0/dist/react-dom.js)  
  Construction miniature pour la production : [react-dom/dist/react-dom.min.js](https://unpkg.com/react-dom@15.5.0/dist/react-dom.min.js)  
* **React DOM Server** (inclure React dans la page avant React DOM Server)  
   Développer en build avec des avertissements : [react-dom/dist/react-dom-server.js](https://unpkg.com/react-dom@15.5.0/dist/react-dom-server.js)  
  Construction miniature pour la production : [react-dom/dist/react-dom-server.min.js](https://unpkg.com/react-dom@15.5.0/dist/react-dom-server.min.js)

Nous avons également publié la version `15.5.0` des paquets `react`, `react-dom`, et addons sur npm et le paquet `react` sur bower.

---

## Changelog {#changelog}

## 15.5.0 (7 avril 2017) {#1550-april-7-2017}

### React {#react}

* Ajout d'un avertissement de déprédation pour `React.createClass`. Pointe maintenant les utilisateurs vers create-react-class. ([@acdlite](https://github.com/acdlite) dans [d9a4fa4](https://github.com/facebook/react/commit/d9a4fa4f51c6da895e1655f32255cf72c0fe620e))
* Ajout d'un avertissement de déprédation pour  `React.PropTypes`. Pointe maintenant les utilisateurs vers les prop-types. ([@acdlite](https://github.com/acdlite) dans [043845c](https://github.com/facebook/react/commit/043845ce75ea0812286bbbd9d34994bb7e01eb28))
* Correction d'un problème lors de l'utilisation de `ReactDOM` avec `ReactDOMServer`. ([@wacii](https://github.com/wacii) dans [#9005](https://github.com/facebook/react/pull/9005))
* Correction d'un problème avec le compilateur de fermeture. ([@anmonteiro](https://github.com/anmonteiro) dans [#8895](https://github.com/facebook/react/pull/8895))
* Une autre correction pour le compileur de Closure. ([@Shastel](https://github.com/Shastel) dans [#8882](https://github.com/facebook/react/pull/8882))
* Ajout d'informations de pile de composants pour l'avertissement de type d'élément invalide. ([@n3tr](https://github.com/n3tr) dans [#8495](https://github.com/facebook/react/pull/8495))

### Le DOM de React {#react-dom}

* Correction d'un bug Chrome lors de l'espacement arrière dans les entrées de nombres. ([@nhunzaker](https://github.com/nhunzaker) dans [#7359](https://github.com/facebook/react/pull/7359))
* Ajout de `react-dom/test-utils`, qui exporte les Test Utils de React. ([@bvaughn](https://github.com/bvaughn))

### Rendu de test React {#react-test-renderer}

* Correction d'un bug où `componentWillUnmount` n'était pas appelé comme un enfant ([@gre](https://github.com/gre) dans [#8512](https://github.com/facebook/react/pull/8512))
* Ajout de `react-test-renderer/shallow`, qui exporte le moteur superficiel. ([@bvaughn](https://github.com/bvaughn))

### Les Addons de React {#react-addons}

* Dernière version pour les addons ; ils ne seront plus activement maintenus.
* Suppression de `peerDependencies` pour que les addons continuent à fonctionner indéfiniment. ([@acdlite](https://github.com/acdlite) et [@bvaughn](https://github.com/bvaughn) dans [8a06cd7](https://github.com/facebook/react/commit/8a06cd7a786822fce229197cac8125a551e8abfa) dans [67a8db3](https://github.com/facebook/react/commit/67a8db3650d724a51e70be130e9008806402678a))
* Mise à jour pour supprimer les références à `React.createClass` et `React.PropTypes` ([@acdlite](https://github.com/acdlite) dans [12a96b9](https://github.com/facebook/react/commit/12a96b94823d6b6de6b1ac13bd576864abd50175))
* `react-addons-test-utils` est obsolète. Utilisation de `react-dom/test-utils` et `react-test-renderer/shallow` à la place. ([@bvaughn](https://github.com/bvaughn))
